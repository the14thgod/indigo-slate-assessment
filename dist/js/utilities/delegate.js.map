{"version":3,"sources":["utilities/delegate.js"],"names":["Astral","delegate","oContainers","evt","selector","handler","Array","isArray","oEvents","split","oSelectors","forEach","oContainer","oEvent","addEventListener","event","target","i","length","matches","trim","call","parentNode","core","register","name","type","functionName","subscribers","dependencies"],"mappings":"AASAA,OAAOC,QAAP,CAAkB,SAASC,WAAT,CAAsBC,GAAtB,CAA2BC,QAA3B,CAAqCC,OAArC,CAA6C,CAC9D,GAAIH,aAAcI,MAAMC,OAAN,CAAcL,WAAd,EAA6BA,WAA7B,CAA2C,CAACA,WAAD,CAA7D,CACCM,QAAUL,IAAIM,KAAJ,CAAU,GAAV,CADX,CAECC,WAAaN,SAASK,KAAT,CAAe,GAAf,CAFd,CAKAP,YAAYS,OAAZ,CAAoBC,YAAc,CAEjCJ,QAAQG,OAAR,CAAgBE,QAAU,CACzBD,WAAWE,gBAAX,CAA4BD,MAA5B,CAAoC,SAASE,KAAT,CAAe,CAClD,GAAIC,QAASD,MAAMC,MAAnB,CACA,MAAMA,QAAUA,SAAW,IAA3B,CAAgC,CAE/B,IAAI,GAAIC,GAAE,CAAV,CAAaA,EAAIP,WAAWQ,MAA5B,CAAoCD,GAApC,CAAwC,CACvC,GAAGD,OAAOG,OAAP,CAAeT,WAAWO,CAAX,EAAcG,IAAd,EAAf,CAAH,CAAwC,CACvCf,QAAQgB,IAAR,CAAaL,MAAb,CAAqBD,KAArB,CACA,CACD,CACDC,OAASA,OAAOM,UAChB,CACD,CAXD,CAYA,CAbD,CAcA,CAhBD,CAiBA,CAvBD,CA0BAtB,OAAOuB,IAAP,CAAYC,QAAZ,CAAqB,CACpBC,KAAM,UADc,CAEpBC,KAAM,SAFc,CAGpBC,aAAc,UAHM,CAIpBC,YAAa,CACZ,SAAU,EADE,CAJO,CAOpBC,aAAc,EAPM,CAArB","file":"delegate.js","sourcesContent":["/**\r\n * Delegate\r\n * Similar to jQuery's .on, specifiy an element to delegate an event to. Rather than having multiple elements with an event handler, this has one element to handle multiple elements so its one function.\r\n * \r\n * @param  {dom object} oContainers [the oContainers the triggering event should fire on]\r\n * @param  {string} evt [the specific event to tie the handler to; multiple events can be space separated]\r\n * @param  {string} selector [the element that triggers the event; multiple selectors can be comma separated]\r\n * @param  {fn} handler [function for event handler]\r\n */\r\nAstral.delegate = function(oContainers, evt, selector, handler){\r\n\tvar oContainers = Array.isArray(oContainers) ? oContainers : [oContainers],\r\n\t\toEvents = evt.split(' '),\r\n\t\toSelectors = selector.split(',');\r\n\r\n\t// Loop over each delegated container\r\n\toContainers.forEach(oContainer => {\r\n\t\t// Loop over each event type\r\n\t\toEvents.forEach(oEvent => {\r\n\t\t\toContainer.addEventListener(oEvent, function(event){\r\n\t\t\t\tvar target = event.target;\r\n\t\t\t\twhile(target && target !== this){\r\n\t\t\t\t\t// Matches mutliple selectors\r\n\t\t\t\t\tfor(var i=0; i < oSelectors.length; i++){\r\n\t\t\t\t\t\tif(target.matches(oSelectors[i].trim())){\r\n\t\t\t\t\t\t\thandler.call(target, event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttarget = target.parentNode;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n}\r\n\r\n// Register this module with Astral\r\nAstral.core.register({\r\n\tname: 'Delegate', // User friendly name used to reference it person-to-person\r\n\ttype: 'utility', // module || utility\r\n\tfunctionName: 'delegate', // Code friendly name using camelCase\r\n\tsubscribers: { // add any number of custom events usting the same name/array convention found below\r\n\t\t'custom': [] // custom event\r\n\t},\r\n\tdependencies: [] // Array of strings referencing functionNames of other modules/utilities (optional)\r\n});\r\n"]}