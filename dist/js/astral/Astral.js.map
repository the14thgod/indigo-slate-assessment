{"version":3,"sources":["astral/Astral.js"],"names":["window","Astral","settings","vars","init","document","addEventListener","_Core","publish","onload","core","checkDependencies","name","dependencies","forEach","dependency","_Astral","loaded","indexOf","Error","err","console","error","message","load","oModule","oFunctions","register","sFunction","functionName","subscribe","subscribers","push","Object","keys","subscriber","handlers","length","_Subscribers","undefined","handler","data","_subscribers","modules","utilities","_Modules","_Utilities"],"mappings":"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","file":"Astral.js","sourcesContent":[";(function(){window.Astral={settings:{},vars:{},init:function(){document.addEventListener('DOMContentLoaded',function(){_Core.publish('pre');_Core.publish('dom');_Core.publish('post')});window.onload=function(){_Core.publish('load')}},core:{checkDependencies:function(name,dependencies){dependencies.forEach(function(dependency){try{if(_Astral.loaded.indexOf(dependency)==-1){throw new Error('\"'+name+'\" is expecting dependency: \"'+dependency+'.\" Make sure \"'+dependency+'\" is included and loaded before \"'+name+'.\"')}}catch(err){console.error(err.message)}})},load:function(oModule,oFunctions){_Core.register(oModule);oFunctions.forEach(function(sFunction){_Astral[oModule.functionName].sFunction()})},register:function(oModule){if(_Astral.loaded.indexOf(oModule.functionName)==-1){_Core.checkDependencies(oModule.name,oModule.dependencies);_Core.subscribe(oModule.functionName,oModule.subscribers);_Astral.loaded.push(oModule.functionName)}},subscribe:function(functionName,subscribers){Object.keys(subscribers).forEach(function(subscriber){var handlers=subscribers[subscriber];if(handlers.length>0){if(_Subscribers[subscriber]===undefined){_Subscribers[subscriber]=[]}handlers.forEach(function(handler){_Subscribers[subscriber].push(_Astral[functionName][handler])})}})},publish:function(subscriber,data){var _subscribers=_Astral.subscribers;if(!_subscribers[subscriber]){return}_subscribers[subscriber].forEach(function(handler){if(handler){handler(data)}})}},modules:[],utilities:[],subscribers:[],loaded:[]};var _Astral=Astral,_Core=_Astral.core,_Modules=_Astral.modules,_Utilities=_Astral.utilities,_Subscribers=_Astral.subscribers})();Astral.init();"]}